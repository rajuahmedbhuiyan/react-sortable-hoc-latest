<!DOCTYPE html>
<html>
<head>
    <title>Test react-sortable-hoc-latest</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="../dist/react-sortable-hoc-latest.umd.js"></script>
</head>
<body>
    <div id="root"></div>
    <script>
        const { SortableContainer, SortableElement, arrayMove } = SortableHOC;
        
        console.log('✅ UMD build loaded successfully!');
        console.log('SortableContainer:', typeof SortableContainer);
        console.log('SortableElement:', typeof SortableElement);
        console.log('arrayMove:', typeof arrayMove);
        
        // Test arrayMove function
        const testArray = [1, 2, 3, 4, 5];
        const movedArray = arrayMove(testArray, 0, 2);
        console.log('Original array:', testArray);
        console.log('After moving index 0 to 2:', movedArray);
        console.log('✅ arrayMove function works correctly!');
        
        // Test React components
        const SortableItem = SortableElement(({value}) => React.createElement('li', null, value));
        const SortableList = SortableContainer(({children}) => React.createElement('ul', null, children));
        
        console.log('✅ React components created successfully!');
        console.log('SortableItem:', typeof SortableItem);
        console.log('SortableList:', typeof SortableList);
        
        // Simple test component
        function TestApp() {
            const [items, setItems] = React.useState(['Item 1', 'Item 2', 'Item 3', 'Item 4', 'Item 5']);
            
            const onSortEnd = ({oldIndex, newIndex}) => {
                setItems(arrayMove(items, oldIndex, newIndex));
            };
            
            return React.createElement(SortableList, {onSortEnd}, 
                items.map((value, index) => 
                    React.createElement(SortableItem, {key: value, index, value})
                )
            );
        }
        
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(TestApp));
        console.log('✅ React app rendered successfully!');
    </script>
</body>
</html>
